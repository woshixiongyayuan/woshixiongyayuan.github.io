<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <title>图片+文字混合弹幕</title>
    <style>
        .danmu-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            overflow: hidden;
            background: #f5f5f5;
            z-index: 999;
        }
        /* 图片弹幕样式 */
        .image-danmu {
            position: absolute;
            height: 250px;
            width: auto;
            animation: danmuScroll linear infinite;
            opacity: 0.9;
        }
        /* 文字弹幕样式 */
        .text-danmu {
            position: absolute;
            height: auto;
            padding: 8px 16px;
            border-radius: 20px;
            background: rgba(0,0,0,0.7);
            color: #fff;
            font-size: 16px;
            white-space: nowrap; /* 文字不换行 */
            animation: danmuScroll linear infinite;
        }
        /* 滚动动画（共用） */
        @keyframes danmuScroll {
            from { transform: translateX(100vw); }
            to { transform: translateX(-100%); }
        }
    </style>
</head>
<body>
    <div class="danmu-container" id="danmuContainer"></div>

    <script>
        // 全局配置
        const config = {
            // 图片弹幕配置
            image: {
                url: "lyx.jpg",
                speed: 8,
                interval: 3000,
                maxCount: 5,
                topRange: [50, 90]
            },
            // 文字弹幕配置
            text: {
                contentList: ["美女请加我微信", "我是李雨轩", "我喜欢美女", "记得加我微信", "我是李雨轩"], // 可添加更多文字
                colorList: ["#fff", "#ff0", "#0ff", "#f0f", "#0f0"], // 文字颜色列表
                speed: 6,
                interval: 1500,
                maxCount: 8,
                topRange: [10, 40],
                fontSizeRange: [14, 20] // 文字大小范围
            }
        };

        const container = document.getElementById("danmuContainer");
        let imageDanmuCount = 0;
        let textDanmuCount = 0;

        // 创建图片弹幕
        function createImageDanmu() {
            if (imageDanmuCount >= config.image.maxCount) return;
            const danmu = document.createElement("img");
            danmu.src = config.image.url;
            danmu.className = "image-danmu";
            danmu.style.top = `${Math.random() * (config.image.topRange[1] - config.image.topRange[0]) + config.image.topRange[0]}%`;
            danmu.style.animationDuration = `${Math.random() * 5 + config.image.speed}s`;
            danmu.addEventListener("animationend", () => {
                danmu.remove();
                imageDanmuCount--;
            });
            container.appendChild(danmu);
            imageDanmuCount++;
        }

        // 创建文字弹幕
        function createTextDanmu() {
            if (textDanmuCount >= config.text.maxCount) return;
            const danmu = document.createElement("div");
            danmu.className = "text-danmu";
            // 随机选文字和颜色
            const randomText = config.text.contentList[Math.floor(Math.random() * config.text.contentList.length)];
            const randomColor = config.text.colorList[Math.floor(Math.random() * config.text.colorList.length)];
            const randomFontSize = Math.floor(Math.random() * (config.text.fontSizeRange[1] - config.text.fontSizeRange[0]) + config.text.fontSizeRange[0]);
            danmu.textContent = randomText;
            danmu.style.color = randomColor;
            danmu.style.fontSize = `${randomFontSize}px`;
            danmu.style.top = `${Math.random() * (config.text.topRange[1] - config.text.topRange[0]) + config.text.topRange[0]}%`;
            danmu.style.animationDuration = `${Math.random() * 5 + config.text.speed}s`;
            danmu.addEventListener("animationend", () => {
                danmu.remove();
                textDanmuCount--;
            });
            container.appendChild(danmu);
            textDanmuCount++;
        }

        // 分别定时生成两种弹幕
        setInterval(createImageDanmu, config.image.interval);
        setInterval(createTextDanmu, config.text.interval);
        // 初始生成
        createImageDanmu();
        createTextDanmu();
    </script>
</body>
</html>